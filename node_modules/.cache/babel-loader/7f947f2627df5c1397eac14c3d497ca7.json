{"ast":null,"code":"exports.tokenize = tokenizeAutolink;\n\nvar asciiAlpha = require('../character/ascii-alpha');\n\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric');\n\nvar asciiAtext = require('../character/ascii-atext');\n\nvar asciiControl = require('../character/ascii-control');\n\nfunction tokenizeAutolink(effects, ok, nok) {\n  var size;\n  return start;\n\n  function start(code) {\n    effects.enter('autolink');\n    effects.enter('autolinkMarker');\n    effects.consume(code);\n    effects.exit('autolinkMarker');\n    effects.enter('autolinkProtocol');\n    return open;\n  }\n\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      size = 1;\n      return schemeOrEmailAtext;\n    }\n\n    return asciiAtext(code) ? emailAtext(code) : nok(code);\n  }\n\n  function schemeOrEmailAtext(code) {\n    return code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code) ? schemeInsideOrEmailAtext(code) : emailAtext(code);\n  }\n\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code);\n      return urlInside;\n    }\n\n    if ((code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) && size++ < 32) {\n      effects.consume(code);\n      return schemeInsideOrEmailAtext;\n    }\n\n    return emailAtext(code);\n  }\n\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit('autolinkProtocol');\n      return end(code);\n    }\n\n    if (code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code);\n    }\n\n    effects.consume(code);\n    return urlInside;\n  }\n\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code);\n      size = 0;\n      return emailAtSignOrDot;\n    }\n\n    if (asciiAtext(code)) {\n      effects.consume(code);\n      return emailAtext;\n    }\n\n    return nok(code);\n  }\n\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code);\n  }\n\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code);\n      size = 0;\n      return emailAtSignOrDot;\n    }\n\n    if (code === 62) {\n      // Exit, then change the type.\n      effects.exit('autolinkProtocol').type = 'autolinkEmail';\n      return end(code);\n    }\n\n    return emailValue(code);\n  }\n\n  function emailValue(code) {\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      effects.consume(code);\n      return code === 45 ? emailValue : emailLabel;\n    }\n\n    return nok(code);\n  }\n\n  function end(code) {\n    effects.enter('autolinkMarker');\n    effects.consume(code);\n    effects.exit('autolinkMarker');\n    effects.exit('autolink');\n    return ok;\n  }\n}","map":{"version":3,"sources":["/home/boshra/personal/markdown-editor/node_modules/micromark/dist/tokenize/autolink.js"],"names":["exports","tokenize","tokenizeAutolink","asciiAlpha","require","asciiAlphanumeric","asciiAtext","asciiControl","effects","ok","nok","size","start","code","enter","consume","exit","open","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","end","emailAtSignOrDot","emailLabel","type","emailValue"],"mappings":"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","sourcesContent":["exports.tokenize = tokenizeAutolink\n\nvar asciiAlpha = require('../character/ascii-alpha')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric')\nvar asciiAtext = require('../character/ascii-atext')\nvar asciiControl = require('../character/ascii-control')\n\nfunction tokenizeAutolink(effects, ok, nok) {\n  var size\n\n  return start\n\n  function start(code) {\n    effects.enter('autolink')\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.enter('autolinkProtocol')\n    return open\n  }\n\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      size = 1\n      return schemeOrEmailAtext\n    }\n\n    return asciiAtext(code) ? emailAtext(code) : nok(code)\n  }\n\n  function schemeOrEmailAtext(code) {\n    return code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)\n      ? schemeInsideOrEmailAtext(code)\n      : emailAtext(code)\n  }\n\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code)\n      return urlInside\n    }\n\n    if (\n      (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) &&\n      size++ < 32\n    ) {\n      effects.consume(code)\n      return schemeInsideOrEmailAtext\n    }\n\n    return emailAtext(code)\n  }\n\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit('autolinkProtocol')\n      return end(code)\n    }\n\n    if (code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return urlInside\n  }\n\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (asciiAtext(code)) {\n      effects.consume(code)\n      return emailAtext\n    }\n\n    return nok(code)\n  }\n\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code)\n  }\n\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (code === 62) {\n      // Exit, then change the type.\n      effects.exit('autolinkProtocol').type = 'autolinkEmail'\n      return end(code)\n    }\n\n    return emailValue(code)\n  }\n\n  function emailValue(code) {\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      effects.consume(code)\n      return code === 45 ? emailValue : emailLabel\n    }\n\n    return nok(code)\n  }\n\n  function end(code) {\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.exit('autolink')\n    return ok\n  }\n}\n"]},"metadata":{},"sourceType":"script"}