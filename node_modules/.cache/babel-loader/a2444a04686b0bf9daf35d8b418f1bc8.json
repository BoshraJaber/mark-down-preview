{"ast":null,"code":"module.exports = createTitle;\n\nvar markdownLineEnding = require('../character/markdown-line-ending');\n\nvar createSpace = require('./factory-space'); // eslint-disable-next-line max-params\n\n\nfunction createTitle(effects, ok, nok, type, markerType, stringType) {\n  var marker;\n  return start;\n\n  function start(code) {\n    effects.enter(type);\n    effects.enter(markerType);\n    effects.consume(code);\n    effects.exit(markerType);\n    marker = code === 40 ? 41 : code;\n    return atFirstTitleBreak;\n  }\n\n  function atFirstTitleBreak(code) {\n    if (code === marker) {\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      effects.exit(type);\n      return ok;\n    }\n\n    effects.enter(stringType);\n    return atTitleBreak(code);\n  }\n\n  function atTitleBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType);\n      return atFirstTitleBreak(marker);\n    }\n\n    if (code === null) {\n      return nok(code);\n    } // Note: blank lines can’t exist in content.\n\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      return createSpace(effects, atTitleBreak, 'linePrefix');\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return title(code);\n  }\n\n  function title(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString');\n      return atTitleBreak(code);\n    }\n\n    effects.consume(code);\n    return code === 92 ? titleEscape : title;\n  }\n\n  function titleEscape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code);\n      return title;\n    }\n\n    return title(code);\n  }\n}","map":{"version":3,"sources":["/home/boshra/personal/markdown-editor/node_modules/micromark/dist/tokenize/factory-title.js"],"names":["module","exports","createTitle","markdownLineEnding","require","createSpace","effects","ok","nok","type","markerType","stringType","marker","start","code","enter","consume","exit","atFirstTitleBreak","atTitleBreak","contentType","title","titleEscape"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,WAAjB;;AAEA,IAAIC,kBAAkB,GAAGC,OAAO,CAAC,mCAAD,CAAhC;;AAEA,IAAIC,WAAW,GAAGD,OAAO,CAAC,iBAAD,CAAzB,C,CAEA;;;AACA,SAASF,WAAT,CAAqBI,OAArB,EAA8BC,EAA9B,EAAkCC,GAAlC,EAAuCC,IAAvC,EAA6CC,UAA7C,EAAyDC,UAAzD,EAAqE;AACnE,MAAIC,MAAJ;AAEA,SAAOC,KAAP;;AAEA,WAASA,KAAT,CAAeC,IAAf,EAAqB;AACnBR,IAAAA,OAAO,CAACS,KAAR,CAAcN,IAAd;AACAH,IAAAA,OAAO,CAACS,KAAR,CAAcL,UAAd;AACAJ,IAAAA,OAAO,CAACU,OAAR,CAAgBF,IAAhB;AACAR,IAAAA,OAAO,CAACW,IAAR,CAAaP,UAAb;AACAE,IAAAA,MAAM,GAAGE,IAAI,KAAK,EAAT,GAAc,EAAd,GAAmBA,IAA5B;AACA,WAAOI,iBAAP;AACD;;AAED,WAASA,iBAAT,CAA2BJ,IAA3B,EAAiC;AAC/B,QAAIA,IAAI,KAAKF,MAAb,EAAqB;AACnBN,MAAAA,OAAO,CAACS,KAAR,CAAcL,UAAd;AACAJ,MAAAA,OAAO,CAACU,OAAR,CAAgBF,IAAhB;AACAR,MAAAA,OAAO,CAACW,IAAR,CAAaP,UAAb;AACAJ,MAAAA,OAAO,CAACW,IAAR,CAAaR,IAAb;AACA,aAAOF,EAAP;AACD;;AAEDD,IAAAA,OAAO,CAACS,KAAR,CAAcJ,UAAd;AACA,WAAOQ,YAAY,CAACL,IAAD,CAAnB;AACD;;AAED,WAASK,YAAT,CAAsBL,IAAtB,EAA4B;AAC1B,QAAIA,IAAI,KAAKF,MAAb,EAAqB;AACnBN,MAAAA,OAAO,CAACW,IAAR,CAAaN,UAAb;AACA,aAAOO,iBAAiB,CAACN,MAAD,CAAxB;AACD;;AAED,QAAIE,IAAI,KAAK,IAAb,EAAmB;AACjB,aAAON,GAAG,CAACM,IAAD,CAAV;AACD,KARyB,CAU1B;;;AACA,QAAIX,kBAAkB,CAACW,IAAD,CAAtB,EAA8B;AAC5BR,MAAAA,OAAO,CAACS,KAAR,CAAc,YAAd;AACAT,MAAAA,OAAO,CAACU,OAAR,CAAgBF,IAAhB;AACAR,MAAAA,OAAO,CAACW,IAAR,CAAa,YAAb;AACA,aAAOZ,WAAW,CAACC,OAAD,EAAUa,YAAV,EAAwB,YAAxB,CAAlB;AACD;;AAEDb,IAAAA,OAAO,CAACS,KAAR,CAAc,aAAd,EAA6B;AAACK,MAAAA,WAAW,EAAE;AAAd,KAA7B;AACA,WAAOC,KAAK,CAACP,IAAD,CAAZ;AACD;;AAED,WAASO,KAAT,CAAeP,IAAf,EAAqB;AACnB,QAAIA,IAAI,KAAKF,MAAT,IAAmBE,IAAI,KAAK,IAA5B,IAAoCX,kBAAkB,CAACW,IAAD,CAA1D,EAAkE;AAChER,MAAAA,OAAO,CAACW,IAAR,CAAa,aAAb;AACA,aAAOE,YAAY,CAACL,IAAD,CAAnB;AACD;;AAEDR,IAAAA,OAAO,CAACU,OAAR,CAAgBF,IAAhB;AACA,WAAOA,IAAI,KAAK,EAAT,GAAcQ,WAAd,GAA4BD,KAAnC;AACD;;AAED,WAASC,WAAT,CAAqBR,IAArB,EAA2B;AACzB,QAAIA,IAAI,KAAKF,MAAT,IAAmBE,IAAI,KAAK,EAAhC,EAAoC;AAClCR,MAAAA,OAAO,CAACU,OAAR,CAAgBF,IAAhB;AACA,aAAOO,KAAP;AACD;;AAED,WAAOA,KAAK,CAACP,IAAD,CAAZ;AACD;AACF","sourcesContent":["module.exports = createTitle\n\nvar markdownLineEnding = require('../character/markdown-line-ending')\n\nvar createSpace = require('./factory-space')\n\n// eslint-disable-next-line max-params\nfunction createTitle(effects, ok, nok, type, markerType, stringType) {\n  var marker\n\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    marker = code === 40 ? 41 : code\n    return atFirstTitleBreak\n  }\n\n  function atFirstTitleBreak(code) {\n    if (code === marker) {\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    return atTitleBreak(code)\n  }\n\n  function atTitleBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType)\n      return atFirstTitleBreak(marker)\n    }\n\n    if (code === null) {\n      return nok(code)\n    }\n\n    // Note: blank lines can’t exist in content.\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return createSpace(effects, atTitleBreak, 'linePrefix')\n    }\n\n    effects.enter('chunkString', {contentType: 'string'})\n    return title(code)\n  }\n\n  function title(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      return atTitleBreak(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? titleEscape : title\n  }\n\n  function titleEscape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code)\n      return title\n    }\n\n    return title(code)\n  }\n}\n"]},"metadata":{},"sourceType":"script"}