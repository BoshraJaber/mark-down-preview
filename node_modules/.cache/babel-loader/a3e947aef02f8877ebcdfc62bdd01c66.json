{"ast":null,"code":"module.exports = createLabel;\n\nvar markdownLineEnding = require('../character/markdown-line-ending');\n\nvar markdownSpace = require('../character/markdown-space'); // eslint-disable-next-line max-params\n\n\nfunction createLabel(effects, ok, nok, type, markerType, stringType) {\n  var self = this;\n  var size = 0;\n  var data;\n  return start;\n\n  function start(code) {\n    effects.enter(type);\n    effects.enter(markerType);\n    effects.consume(code);\n    effects.exit(markerType);\n    effects.enter(stringType);\n    return atBreak;\n  }\n\n  function atBreak(code) {\n    if (code === null || code === 91 || code === 93 && !data ||\n    /* istanbul ignore next - footnotes. */\n    code === 94 && !size && '_hiddenFootnoteSupport' in self.parser.constructs || size > 999) {\n      return nok(code);\n    }\n\n    if (code === 93) {\n      effects.exit(stringType);\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      effects.exit(type);\n      return ok;\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      return atBreak;\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return label(code);\n  }\n\n  function label(code) {\n    if (code === null || code === 91 || code === 93 || markdownLineEnding(code) || size++ > 999) {\n      effects.exit('chunkString');\n      return atBreak(code);\n    }\n\n    effects.consume(code);\n    data = data || !markdownSpace(code);\n    return code === 92 ? labelEscape : label;\n  }\n\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code);\n      size++;\n      return label;\n    }\n\n    return label(code);\n  }\n}","map":{"version":3,"sources":["/home/boshra/personal/markdown-editor/node_modules/micromark/dist/tokenize/factory-label.js"],"names":["module","exports","createLabel","markdownLineEnding","require","markdownSpace","effects","ok","nok","type","markerType","stringType","self","size","data","start","code","enter","consume","exit","atBreak","parser","constructs","contentType","label","labelEscape"],"mappings":"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","sourcesContent":["module.exports = createLabel\n\nvar markdownLineEnding = require('../character/markdown-line-ending')\nvar markdownSpace = require('../character/markdown-space')\n\n// eslint-disable-next-line max-params\nfunction createLabel(effects, ok, nok, type, markerType, stringType) {\n  var self = this\n  var size = 0\n  var data\n\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    effects.enter(stringType)\n    return atBreak\n  }\n\n  function atBreak(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      (code === 93 && !data) ||\n      /* istanbul ignore next - footnotes. */\n      (code === 94 &&\n        !size &&\n        '_hiddenFootnoteSupport' in self.parser.constructs) ||\n      size > 999\n    ) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.exit(stringType)\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return atBreak\n    }\n\n    effects.enter('chunkString', {contentType: 'string'})\n    return label(code)\n  }\n\n  function label(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      code === 93 ||\n      markdownLineEnding(code) ||\n      size++ > 999\n    ) {\n      effects.exit('chunkString')\n      return atBreak(code)\n    }\n\n    effects.consume(code)\n    data = data || !markdownSpace(code)\n    return code === 92 ? labelEscape : label\n  }\n\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code)\n      size++\n      return label\n    }\n\n    return label(code)\n  }\n}\n"]},"metadata":{},"sourceType":"script"}